(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[694],{1422:function(e,t,r){Promise.resolve().then(r.bind(r,506))},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var a=r(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),c=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},u=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:c,className:l="",children:d,iconNode:f,...m}=e;return(0,a.createElement)("svg",{ref:t,...i,width:n,height:n,stroke:r,strokeWidth:c?24*Number(s)/Number(n):s,className:o("lucide",l),...!d&&!u(m)&&{"aria-hidden":"true"},...m},[...f.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:u,...i}=r;return(0,a.createElement)(l,{ref:s,iconNode:t,className:o("lucide-".concat(n(c(e))),"lucide-".concat(e),u),...i})});return r.displayName=c(e),r}},1817:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},506:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var a=r(7437),n=r(2265),s=r(9376),c=r(5978),o=r(6855),u=r(1817);function i(){let e=(0,s.useRouter)(),t=(0,s.useParams)(),r=(0,s.useSearchParams)(),[i,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let a=t.id;if(!a){l("ไม่พบ ID ของเอกสารใน URL");return}(async()=>{try{let t=(0,c.JU)(o.db,"rfaDocuments",a),n=await (0,c.QT)(t);if(n.exists()){let t=n.data().rfaType;if(t){let n=new URLSearchParams(r.toString());n.set("type",t),n.set("docId",a),e.replace("/dashboard/rfa?".concat(n.toString()))}else l("ไม่สามารถระบุประเภทของเอกสารได้")}else l("ไม่พบเอกสารที่คุณต้องการ")}catch(e){console.error("Redirect Error:",e),l("เกิดข้อผิดพลาดในการเปิดเอกสาร")}})()},[t.id,e,r]),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("div",{className:"text-center",children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-red-700 mb-2",children:"เกิดข้อผิดพลาด"}),(0,a.jsx)("p",{className:"text-red-600",children:i}),(0,a.jsx)("button",{onClick:()=>e.push("/dashboard"),className:"mt-4 bg-gray-200 px-4 py-2 rounded",children:"กลับสู่ Dashboard"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Z,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"กำลังเปิดเอกสาร..."})]})})})}},6855:function(e,t,r){"use strict";r.d(t,{I:function(){return o},db:function(){return u}});var a=r(738),n=r(2148),s=r(5978);let c=(0,a.C6)().length>0?(0,a.C6)()[0]:(0,a.ZF)({apiKey:"AIzaSyAsayb-DEOBE0zi0qh-dPBfihClgXrX1sY",authDomain:"ttsdocumentcontrol.firebaseapp.com",projectId:"ttsdocumentcontrol",storageBucket:"ttsdocumentcontrol.firebasestorage.app",messagingSenderId:"48440915675",appId:"1:48440915675:web:f11611895bfb52d4d27efe"}),o=(0,n.v0)(c),u=(0,s.ad)(c)}},function(e){e.O(0,[609,15,351,971,117,744],function(){return e(e.s=1422)}),_N_E=e.O()}]);